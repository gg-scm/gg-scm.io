<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gerrit - gg</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i|Patua+One" rel="stylesheet">
  <link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/favicon128.png" sizes="128x128">
  <link rel="icon" type="image/png" href="/favicon512.png" sizes="512x512">
  <link rel="stylesheet" type="text/css" href="/style.css">
  
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-2285538-10', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body id="page">
  <div id="top">
    <h1 id="site_title"><a id="site_title_link" href="/">gg</a></h1>
    <div id="subtitle">Git like Mercurial</div>
    <nav id="main_nav">
      <ul id="main_nav_list">
        <li class="main_nav_item">
          <a class="main_nav_link" href="/">Home</a>
        </li>
        <li class="main_nav_item">
          <a class="main_nav_link" href="/workflow/">Workflows</a>
        </li>
        <li class="main_nav_item">
          <a class="main_nav_link" href="/cmd/">Commands</a>
        </li>
        <li class="main_nav_item">
          <a class="main_nav_link" href="https://github.com/zombiezen/gg">GitHub</a>
        </li>
        
      </ul>
    </nav>
  </div>
  <div id="main_block">
    <main id="main">
<h1 class="pagetitle">Gerrit</h1>
<p>Some popular open source projects use <a href="https://www.gerritcodereview.com/">Gerrit</a>, a code review tool, to
manage code contributions. Examples include <a href="https://golang.org/">Go</a>, <a href="https://source.android.com/">Android</a>, and
<a href="https://www.chromium.org/">Chromium</a>. Gerrit has a somewhat unique model for receiving changes that
involves amending commits and pushing to specially formatted ref names.
Developers using Gerrit usually build shortcuts on top of Git to manage this
complexity, but gg has built-in support for Gerrit. gg makes working with
Gerrit as easy as other Git workflows.</p>

<p></p>

<h2 id="cloning">Cloning</h2>

<p>Cloning a Gerrit repository is as simple as using the <code>gg clone</code> command. You
can install the commit hook that adds the <code>Change-Id</code> line to your commit
messages by using <code>gg gerrithook</code>.</p>

<pre><code class="language-shell">gg clone https://example.com/foo.git
cd foo
gg gerrithook
</code></pre>

<h2 id="making-changes">Making Changes</h2>

<p>Every Gerrit change should be on a separate branch. <code>gg branch</code> will
automatically handle setting the branch&rsquo;s upstream, and <code>gg mail</code> automates
pushing the change to the server.</p>

<pre><code class="language-shell">gg branch myfeature
# hack hack hack
gg commit -m &quot;Added a feature&quot;
gg mail -R foo@example.com
</code></pre>

<p>To make changes after code review, simply amend the commit on your branch and
run <code>gg mail</code> again. (The <code>-p</code> flag publishes comments.)</p>

<pre><code class="language-shell"># hack hack hack
gg commit -amend
gg mail -p
</code></pre>

<h3 id="syncing-your-work">Syncing Your Work</h3>

<p>If the upstream branch changed, then you can use <code>gg rebase</code> to move your
branch.</p>

<pre><code class="language-shell">gg pull &amp;&amp; gg rebase
</code></pre>

<h3 id="dependent-changes">Dependent Changes</h3>

<p>If you want to send out a sequence of changes that depend on prior changes, keep
the whole sequence on one branch. Running <code>gg mail</code> as before will send the
whole chain.</p>

<pre><code class="language-shell">gg branch myfeature
# hack hack hack
gg commit -m &quot;Added first feature&quot;
# hack hack hack
gg commit -m &quot;Added second feature&quot;
gg mail -R foo@example.com
</code></pre>

<p>If you want to send a subsequence, you can pass <code>-r</code> to <code>gg mail</code>:</p>

<pre><code class="language-shell"># Mails everything in the sequence except the last change.
gg mail -r HEAD~
</code></pre>

<p>To amend changes earlier in the sequence, use <code>gg histedit</code>. <code>histedit</code> will
pull open your editor, allowing you to pick the commits you want to edit.</p>

<pre><code class="language-shell">gg histedit
</code></pre>

<p>Once you&rsquo;re ready for review, you use <code>gg mail</code> as before.</p>

<pre><code class="language-shell">gg mail -p
</code></pre>

<p>As your changes get submitted to the upstream branch, you can use <code>gg evolve</code> to
rebase your working branch on top of the new commits created for the working
changes. This is usually combined with <code>gg pull</code> and <code>gg rebase</code> to keep your
branch up-to-date.</p>

<pre><code class="language-shell">gg pull &amp;&amp; gg evolve &amp;&amp; gg rebase
</code></pre>

<h3 id="switching-among-changes">Switching Among Changes</h3>

<p>You can list all of your branches with:</p>

<pre><code class="language-shell">gg branch
</code></pre>

<p>You can use <code>gg update</code> to switch to a different branch.</p>

<pre><code class="language-shell">gg update myfeature
gg update master
</code></pre>
</div>
  </div>
  <footer id="pagefooter">
    <div id="pagefooter_content">
      <p>Copyright &copy; 2018 Google LLC</p>
      <p>gg is not an official Google product. All content released under an <a href="https://github.com/zombiezen/gg/blob/master/LICENSE" target="_blank">Apache 2.0 License</a>.</p>
    </div>
  </footer>
</body>
</html>
